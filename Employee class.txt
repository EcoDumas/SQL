package javaDB;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

public class Employee {
    public Employee() {
    }

    public static void main(String[] args) throws Exception {
        createTable();
    }

    private static void createTable() throws Exception {
        try {
            Connection a = getConnection();
            Connection b = getConnection1();
            PreparedStatement createDB = a.prepareStatement("CREATE DATABASE db");
            PreparedStatement createTB = a.prepareStatement("CREATE TABLE db.employee(id int PRIMARY KEY AUTO_INCREMENT, name varchar(255), surname varchar(255), salary int)");
            createDB.executeUpdate();
            createTB.executeUpdate();
            a.close();
            String query = "INSERT INTO `employee`(`id`, `name`, `surname`, `sallary`)VALUES (?,?,?,?)+";
            PreparedStatement insert = b.prepareStatement(query);
            insert.setInt(1, 1);
            insert.setString(2, "Matas");
            insert.setString(3, "Urbanavicius");
            insert.setInt(4, 500);
            insert.execute();
        } catch (Exception var9) {
            System.out.println(var9);
        } finally {
            System.out.println("**function successful**");
        }

    }

    private static Connection getConnection() throws Exception {
        try {
            String driver = "com.mysql.cj.jdbc.Driver";
            String url = "jdbc:mysql://localhost:3306";
            String username = "root";
            String password = "";
            Class.forName(driver);
            Connection a = DriverManager.getConnection(url, username, password);
            System.out.println("**Prisijungta!**");
            return a;
        } catch (Exception var5) {
            System.out.println(var5);
            return null;
        }
    }

    private static Connection getConnection1() throws Exception {
        try {
            String driver = "com.mysql.cj.jdbc.Driver";
            String url = "jdbc:mysql://localhost:3306/db";
            String username = "root";
            String password = "";
            Class.forName(driver);
            Connection b = DriverManager.getConnection(url, username, password);
            System.out.println("**Prisijungta!**");
            return b;
        } catch (Exception var5) {
            System.out.println(var5);
            return null;
        }
    }
}